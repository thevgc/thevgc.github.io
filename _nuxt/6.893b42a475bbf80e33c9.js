webpackJsonp([6],{"0QIF":function(t,e,a){"use strict";e.a=function(t,e,a){o(t,1,0,e,a)};var r=a("gquk"),n=5;function o(t,e,a,o,i){var s=Date.now(),u=Object(r.e)(e,n).toString();t.style.opacity=u,requestAnimationFrame(function c(){var l=Date.now()-s;if(l>=o)t.style.opacity=Object(r.e)(a,n).toString(),i&&i();else{var f=Object(r.e)(e+l/o*(a-e),n).toString();f!==u&&(t.style.opacity=f,u=f),requestAnimationFrame(c)}})}},"0oZQ":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("B0c3"),n=a("pC51"),o=a("XyMi"),i=!1;var s=function(t){i||a("9pcH")},u=Object(o.a)(r.a,n.a,n.b,!1,s,null,null);u.options.__file="components\\App\\AppBackground.vue",e.default=u.exports},"1VQc":function(t,e,a){"use strict";e.a=function(t){return document.getElementById(t)}},"9pcH":function(t,e,a){var r=a("jieY");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,a("rjj0").default)("6221f701",r,!1,{sourceMap:!1})},"9rEf":function(t,e,a){"use strict";e.a=function(t,e){var a=void 0,r=void 0,n=void 0,o=(t+e)*u,i=Math.floor(t+o),s=Math.floor(e+o),h=(i+s)*c,d=t-i+h,v=e-s+h,p=void 0,y=void 0;d>v?(p=1,y=0):(p=0,y=1);var g=d-p+c,x=v-y+c,m=d-1+2*c,w=v-1+2*c,M=f[(i&=255)+l[s&=255]],b=f[i+p+l[s+y]],z=f[i+1+l[s+1]],C=.5-d*d-v*v;a=C<0?0:(C*=C)*C*M.dot2(d,v);var S=.5-g*g-x*x;r=S<0?0:(S*=S)*S*b.dot2(g,x);var A=.5-m*m-w*w;n=A<0?0:(A*=A)*A*z.dot2(m,w);return 70*(a+r+n)};var r=a("Zrlr"),n=a.n(r),o=a("wxAW"),i=a.n(o),s=function(){function t(e,a,r){n()(this,t),this.x=e,this.y=a,this.z=r}return i()(t,[{key:"dot2",value:function(t,e){return this.x*t+this.y*e}},{key:"dot3",value:function(t,e,a){return this.x*t+this.y*e+this.z*a}}]),t}(),u=.5*(Math.sqrt(3)-1),c=(3-Math.sqrt(3))/6,l=new Array(512),f=new Array(512),h=[new s(1,1,0),new s(-1,1,0),new s(1,-1,0),new s(-1,-1,0),new s(1,0,1),new s(-1,0,1),new s(1,0,-1),new s(-1,0,-1),new s(0,1,1),new s(0,-1,1),new s(0,1,-1),new s(0,-1,-1)],d=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180];!function(t){t>0&&t<1&&(t*=65536),(t=Math.floor(t))<256&&(t|=t<<8);for(var e=0;e<256;e++){var a=void 0;a=1&e?d[e]^255&t:d[e]^t>>8&255,l[e]=l[e+256]=a,f[e]=f[e+256]=h[a%12]}}(0)},"9yPn":function(t,e,a){"use strict"},B0c3:function(t,e,a){"use strict";var r=a("MjbB"),n=a("1VQc"),o=a("P+KI"),i=a("BtUS"),s=a("C9fx"),u=a("H4bH");e.a={name:"app-background",data:function(){return{assets:null,canvas:null,cfg:null,cfgId:null,errors:[],loading:0,loaded:!1,world:null,numGrassBlades:1e4,grassPatchRadius:40,width:640,height:480,antialias:!1}},props:{},computed:{},methods:{setupCameras:function(){},addAmbient:function(t){},createLine:function(){},detectWebGL:function(){try{var t=document.createElement("canvas");return!!t.getContext("webgl")||!!t.getContext("experimental-webgl")}catch(t){return null}},animate:function(){},loadAssets:function(){var t=Object(r.a)();t.load({text:[{name:"grass.vert",url:"/shaders/grass.vert.glsl"},{name:"grass.frag",url:"/shaders/grass.frag.glsl"},{name:"terrain.vert",url:"/shaders/terrain.vert.glsl"},{name:"terrain.frag",url:"/shaders/terrain.frag.glsl"},{name:"water.vert",url:"/shaders/water.vert.glsl"},{name:"water.frag",url:"/shaders/water.frag.glsl"}],images:[{name:"heightmap",url:"/data/heightmap.jpg"},{name:"noise",url:"/data/noise.jpg"}],textures:[{name:"grass",url:"/data/grass.jpg"},{name:"terrain1",url:"/data/terrain1.jpg"},{name:"terrain2",url:"/data/terrain2.jpg"},{name:"skydome",url:"/data/skydome.jpg"},{name:"skyenv",url:"/data/skyenv.jpg"}]},this.onAssetsLoaded,this.onAssetsProgress,this.onAssetsError),this.assets=t.getAssets(),this.cfgId=o.a.isMobile.any?"mobile":"desktop",this.cfg=i.a[this.cfgId],console.log(this.cfgId,this.cfg)},onAssetsLoaded:function(t){var e=this;this.loaded=!0,setTimeout(function(){e.start()},10)},onAssetsProgress:function(t){var e=Math.floor(100*t);this.loading=e},onAssetsError:function(t){this.errors.push(t)},setDimensions:function(t){},addListeners:function(){},animationBusListeners:function(){},resize:function(){if(this.width=this.$refs.container.clientWidth,this.height=this.$refs.container.clientHeight,null!==this.world)this.world.resize(this.width,this.height);else{var t=Object(n.a)("app-canvas");t.width=this.width,t.height=this.height,this.canvas=t}},start:function(){this.world=Object(u.a)(this.assets,this.numGrassBlades,this.grassPatchRadius,this.width,this.height,this.antialias),this.doFrame()},doFrame:function(){this.world.doFrame(),requestAnimationFrame(this.doFrame)}},mounted:function(){return this.resize(),window.addEventListener("resize",this.resize,!1),window.addEventListener("orientationchange",this.resize,!1),this.loadAssets(),s.a(),!0}}},BtUS:function(t,e,a){"use strict";e.a={mobile:{blades:2e4,depth:50,antialias:!1},laptop:{blades:4e4,depth:65,antialias:!1},desktop:{blades:84e3,depth:85,antialias:!0},desktop2:{blades:25e4,depth:125,antialias:!0},gamerig:{blades:5e5,depth:175,antialias:!0}}},C9fx:function(t,e,a){"use strict";a.d(e,"c",function(){return r}),e.a=function(){if(console.log("Input Initializing"),c)return;document.addEventListener("keydown",s,!0),document.addEventListener("keyup",u,!0),c=!0},e.b=function(t,e){o[t.toString()]=e,console.log(o)};var r={up:0,down:0,left:0,right:0,forward:0,back:0,pitchup:0,pitchdown:0},n=new Array(256).map(function(t){return!1}),o={};function i(t,e){var a=r;37===t?a.left=e:39===t?a.right=e:38===t?a.forward=e:40===t?a.back=e:87===t?a.up=e:83===t?a.down=e:81===t?a.pitchup=e:65===t&&(a.pitchdown=e)}function s(t){if(!n[t.keyCode]){i(t.keyCode,1),n[t.keyCode]=!0;var e=t.keyCode.toString();console.log(o[e]),"function"==typeof o[e]&&o[e]()}}function u(t){console.log("Key Up",t),n[t.keyCode]&&(n[t.keyCode]=!1,i(t.keyCode,0))}var c=!1},EeZx:function(t,e,a){"use strict";e.a=function(t,e,a){var r=document.createElement("canvas"),i=t.xCount+1,u=t.yCount+1;r.width=i,r.height=u;var c=r.getContext("2d"),l=c.getImageData(0,0,i,u);(function(t,e,a){for(var r=t.vtxNormals,o=t.xCount+1,i=t.yCount+1,u=n.c.create(),c=Date.now(),l=0;l<i;++l)for(var f=0;f<o;++f){var h=l*o+f,d=(i-l-1)*o+f;a[4*d+0]=Math.round(t.heights[h]/t.maxHeight*255);var v=3*h;u.x=r[v++],u.y=r[v++],u.z=r[v++];var p=Math.max(-n.c.dot(u,e),0);p*=s(t,e,f,l),a[4*d+1]=Math.round(255*p),a[4*d+3]=255}Date.now()})(t,e,l.data),function(t,e){var a=document.createElement("canvas"),r=t.naturalWidth,n=t.naturalHeight;a.width=r,a.height=n;var o=a.getContext("2d");o.drawImage(t,0,0);for(var i=o.getImageData(0,0,r,n).data,s=0;s<n;++s)for(var u=0;u<r;++u){var c=4*(s*r+u),l=i[c];e[c+2]=l}}(a,l.data),c.putImageData(l,0,0);var f=new o.s(r);return f.wrapS=f.wrapT=o.o,f.needsUpdate=!0,f};var r=a("gquk"),n=a("tQ6r"),o=(a("pjQ5"),a("Ml+6"));var i=n.b.create();function s(t,e,a,o){var s=i,u=t.xCount+1,c=t.yCount+1,l=o*u+a,f=t.heights[l];s.x=-e.x,s.y=-e.y,n.b.normalize(s,s);for(var h=n.b.length(s)/n.b.length(e)*-e.z,d=a,v=o;f<t.maxHeight;){d+=s.x,v+=s.y,f+=h;var p=Object(r.d)(Math.round(d),u),y=Object(r.d)(Math.round(v),c),g=t.heights[y*u+p];if(g>f)return g-f>5?.7:.7+.3*(5-(g-f))/5}return 1}},H4bH:function(t,e,a){"use strict";e.a=function(t,e,a,E,T,N){var q=Object(r.a)("app-canvas"),B=new y.v({canvas:q,antialias:N,clearColor:16777215,clearAlpha:1,alpha:!0});if(!B)throw new Error("Failed to create WebGL Renderer");var D=20*a,Q=2*a,W=new y.l(45,E/T,1,g),R={terrain:null,grass:null,sky:null,water:null,sunFlare:null,fade:null},_=new y.p;_.fog=new y.e(o.a.to24bit(S),.1,D),W.rotation.order="ZXY",W.rotation.x=.5*Math.PI,W.rotation.y=.5*Math.PI,W.rotation.z=Math.PI,W.up.set(0,0,1);var G=new y.k;G.rotation.order="ZYX",G.add(W),_.add(G);var X=t.images.heightmap,Z=m/X.width,U=o.c.create(1/m,1/m,w),K=c.a({cellSize:Z,minHeight:0,maxHeight:U.z,image:X});X=void 0;var Y=h.a(K,C,t.images.noise),$=k;R.grass=l.a({lightDir:C,numBlades:e,radius:a,texture:t.textures.grass,vertScript:t.text["grass.vert"],fragScript:t.text["grass.frag"],heightMap:Y,heightMapScale:U,fogColor:S,fogFar:D,grassFogFar:Q,grassColor:A,transitionLow:b,transitionHigh:z,windIntensity:$}),R.grass.renderOrder=10,_.add(R.grass);var J=f.a({textures:[t.textures.terrain1,t.textures.terrain2],vertScript:t.text["terrain.vert"],fragScript:t.text["terrain.frag"],heightMap:Y,heightMapScale:U,fogColor:S,fogFar:D,grassFogFar:Q,transitionLow:b,transitionHigh:z});R.terrain=J.mesh,R.terrain.renderOrder=20,_.add(R.terrain),R.sky=Object(u.a)(t.textures.skydome,.95*g),R.sky.renderOrder=30,_.add(R.sky),R.sky.position.z=-25,R.water=d.a({envMap:t.textures.skyenv,vertScript:t.text["water.vert"],fragScript:t.text["water.frag"],waterLevel:M,waterColor:F,fogColor:S,fogNear:1,fogFar:D}),R.water.renderOrder=40,_.add(R.water),R.water.position.z=M,R.fade=new y.i(new y.m(6,4,1,1),new y.j({color:16777215,fog:!1,transparent:!0,opacity:1,depthTest:!1,depthWrite:!1})),R.fade.position.x=2,R.fade.rotation.y=1.5*Math.PI,R.fade.renderOrder=10,G.add(R.fade),G.renderOrder=100,R.sunFlare=new y.i(new y.m(6,4,1,1),new y.j({color:o.a.to24bit(L),fog:!1,transparent:!0,opacity:0,depthTest:!1,depthWrite:!1,blending:y.a})),R.sunFlare.position.x=2.05,R.sunFlare.rotation.y=1.5*Math.PI,R.sunFlare.visible=!1,R.sunFlare.renderOrder=20,G.add(R.sunFlare);var tt=new v.a(K,M),et=Date.now(),at=0;nt(E,T),s.b(223,function(){i.e()}),s.b("O".charCodeAt(0),function(){tt.state.pos.x=0,tt.state.pos.y=0}),s.b("F".charCodeAt(0),function(){$=Math.max($-.1,0);var t=R.grass.material;t.uniforms.windIntensity.value=$}),s.b("G".charCodeAt(0),function(){$=Math.min($+.1,j);var t=R.grass.material;t.uniforms.windIntensity.value=$});var rt=new p.a;function nt(t,e){var a=t,r=e;B.setSize(a,r),W.aspect=a/r,W.updateProjectionMatrix()}var ot={i:0,t:0,z:0,n:o.c.create()},it=o.b.create(0,0);function st(t){at<V&&function(t){var e=R.fade.material;at+t>=V?(e.opacity=0,R.fade.visible=!1):e.opacity=1-Math.pow(at/V,2)}(t);var e=.001*(at+=t);tt.update(t);var r=tt.state.pos,s=tt.state.dir,u=tt.state.yaw,h=tt.state.pitch,v=tt.state.roll;c.c(K,r.x,r.y,!0,ot);var p=ot.z;i.b()&&i.c("\n        x: "+r.x.toFixed(4)+",\n        y: "+r.y.toFixed(4)+",\n        z: "+r.z.toFixed(4)+",\n        dx: "+s.x.toFixed(4)+",\n        dy: "+s.y.toFixed(4)+",\n        dz: "+s.z.toFixed(4)+",\n        height: "+p.toFixed(4)+",\n        i: "+ot.i+",\n        fps: "+rt.fps()+"\n      "),R.sky.position.x=r.x,R.sky.position.y=r.y;var y=it;o.b.set(y,r.x+Math.cos(u)*a,r.y+Math.sin(u)*a),l.b(R.grass,e,r,s,y),f.b(J,r.x,r.y),d.b(R.water,r),o.c.copy(r,G.position),G.rotation.z=u,G.rotation.y=-h,G.rotation.x=v,function(){var t=Math.abs(Object(n.b)(H,tt.state.yaw)),e=1.75*Math.abs(Object(n.b)(P,tt.state.pitch)),a=Math.sqrt(t*t+e*e);if(a<O){var r=I*Math.pow((O-a)/(1+I),.75);R.sunFlare.material.opacity=Math.max(0,r),R.sunFlare.visible=!0}else R.sunFlare.visible=!1}()}return{doFrame:function(){var t=Date.now(),e=t-et;rt.update(e),e>0&&(e>x&&(e=x,et=t-x),st(e),B.render(_,W),et=t)},resize:nt}};var r=a("1VQc"),n=a("gquk"),o=a("tQ6r"),i=a("wiis"),s=a("C9fx"),u=(a("MjbB"),a("oAWA")),c=a("pjQ5"),l=a("RkvH"),f=a("MLWi"),h=a("EeZx"),d=a("HryX"),v=a("Rrf4"),p=a("eo3d"),y=a("Ml+6"),g=2e3,x=67,m=3072,w=180,M=.305556*w,b=.31,z=.36,C=o.c.create(0,1,-1);o.c.normalize(C,C);var S=o.a.create(.74,.77,.91),A=o.a.create(.45,.46,.19),F=o.a.create(.6,.7,.85),k=1.5,j=3,I=.25,O=1.1,H=1.5*Math.PI,P=.2,L=o.a.create(1,.8,.4),V=1e3},HryX:function(t,e,a){"use strict";e.a=function(t){t.envMap.wrapS=t.envMap.wrapT=n.o,t.envMap.minFilter=t.envMap.magFilter=n.h,t.envMap.generateMipmaps=!1;var e=new n.n({uniforms:{time:{type:"1f",value:0},viewPos:{type:"3f",value:[0,0,10]},map:{type:"t",value:t.envMap},waterLevel:{type:"1f",value:t.waterLevel},waterColor:{type:"3f",value:r.a.toArray(t.waterColor)},fogColor:{type:"3f",value:r.a.toArray(t.fogColor)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:1.5*t.fogFar}},vertexShader:t.vertScript,fragmentShader:t.fragScript}),a=new n.i(new n.m(2e3,2e3),e);return a.frustumCulled=!1,o=Date.now(),a},e.b=function(t,e){t.position.x=e.x,t.position.y=e.y;var a=t.material,r=a.uniforms.viewPos.value;r[0]=e.x,r[1]=e.y,r[2]=e.z,a.uniforms.time.value=(Date.now()-o)/250};var r=a("tQ6r"),n=a("Ml+6"),o=0},MLWi:function(t,e,a){"use strict";e.a=function(t){var e=Math.floor(Math.sqrt(o/6)),a=e,s=1/t.heightMapScale.x/e;return{cellSize:s,xCellCount:e,yCellCount:a,xSize:e*s,ySize:a*s,mesh:function(t){var e=Math.floor(Math.sqrt(o/6)),a=e,s=1/t.heightMapScale.x/e,u=t.textures;u.forEach(function(t){t.wrapS=t.wrapT=n.o,t.anisotropy=9});var c=t.heightMap;c.wrapS=c.wrapT=n.o;var l=function(t,e,a){var r=new Float32Array(e*a*3),n=new Float32Array(e*a*2),o=void 0,s=void 0,u=void 0,c=void 0,l=void 0,f=void 0,h=0,d=0;for(s=0;s<a;++s)for(c=(s-a/2)*t,l=s,o=0;o<e;++o)u=(o-e/2)*t,f=o,r[h++]=u,r[h++]=c,r[h++]=4*Math.cos(1*o)+4*Math.sin(1*s),n[d++]=l*i,n[d++]=f*i;return{position:r,uv:n}}(s,e+1,a+1),f=function(t,e){var a=(t-1)*(e-1)*3*2,r=void 0;r=a<=65536?new Uint16Array(a):new Uint32Array(a);for(var n=t-1,o=e-1,i=0;i<o;++i)for(var s=0;s<n;++s){var u=6*(i*n+s);r[u+0]=(i+0)*t+(s+0),r[u+1]=(i+0)*t+(s+1),r[u+2]=(i+1)*t+(s+1),r[u+3]=(i+1)*t+(s+1),r[u+4]=(i+1)*t+(s+0),r[u+5]=(i+0)*t+(s+0)}return r}(e+1,a+1),h=new n.d;h.addAttribute("position",new n.c(l.position,3)),h.addAttribute("uv",new n.c(l.uv,2)),h.setIndex(new n.c(f,1));var d=t.heightMapScale,v=t.fragScript.replace("%%TRANSITION_LOW%%",t.transitionLow.toString()).replace("%%TRANSITION_HIGH%%",t.transitionHigh.toString()),p=new n.n({uniforms:{offset:{type:"2f",value:[0,0]},uvOffset:{type:"2f",value:[0,0]},map1:{type:"t",value:u[0]},map2:{type:"t",value:u[1]},heightMap:{type:"t",value:c},heightMapScale:{type:"3f",value:[d.x,d.y,d.z]},fogColor:{type:"3f",value:r.a.toArray(t.fogColor)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:t.fogFar},grassFogFar:{type:"f",value:t.grassFogFar}},vertexShader:t.vertScript,fragmentShader:v}),y=new n.i(h,p);return y.frustumCulled=!1,y}(t)}},e.b=function(t,e,a){var r=Math.floor(e/t.cellSize),n=Math.floor(a/t.cellSize),o=r*t.cellSize,s=n*t.cellSize,u=t.mesh.material,c=u.uniforms.offset.value;c[0]=o,c[1]=s,(c=u.uniforms.uvOffset.value)[0]=n*i,c[1]=r*i};var r=a("tQ6r"),n=a("Ml+6"),o=262144,i=1/6},MjbB:function(t,e,a){"use strict";e.a=function(){var t=!1,e=0,a=0,n=0,o=function(t){return t},i=function(t){return t},s=function(t){return t},u=function(t){return t},c={images:{},text:{},textures:{}};function l(){if(!t)return!0;if(a+n>=e){var r=!n;r&&o&&o(c),u&&u(r),t=!1}return!t}function f(){a+=1,i&&i(a/e),l()}function h(t){s&&s(t),n+=1,l()}function d(t){var e=new XMLHttpRequest;e.overrideMimeType("*/*"),e.onreadystatechange=function(){4===e.readyState&&(200===e.status?(c.text[t.name]=e.responseText,f()):h("Error "+e.status+" loading "+t.url))},e.open("GET",t.url),e.send()}function v(t){var e=new Image;c.images[t.name]=e,e.onload=f,e.onerror=h,e.src=t.url}return{load:function(l,h,p,y,g){if(o=h,i=p,s=y,u=g,e=0,a=0,n=0,t=!0,l.text){e+=l.text.length;for(var x=0;x<l.text.length;++x)d(l.text[x])}if(l.images){e+=l.images.length;for(var m=0;m<l.images.length;++m)v(l.images[m])}if(l.textures){e+=l.textures.length;for(var w=0;w<l.textures.length;++w)M=l.textures[w],c.textures[M.name]=(new r.t).load(M.url,f)}var M},getAssets:function(){return c}}};var r=a("Ml+6")},"P+KI":function(t,e,a){"use strict";e.a={isMobile:function(){if(navigator){var t=!!navigator.userAgent.match(/Android/i),e=!!navigator.userAgent.match(/BlackBerry/i),a=!!navigator.userAgent.match(/iPhone|iPad|iPod/i),r=!!navigator.userAgent.match(/Opera Mini/i),n=!!navigator.userAgent.match(/IEMobile/i),o=!!navigator.userAgent.match(/\(Mobile/i);return{Android:t,BlackBerry:e,iOS:a,Opera:r,Windows:n,FireFox:o,any:t||e||a||r||n||o}}},isStandalone:function(){return navigator&&void 0!==navigator.standalone?!!navigator.standalone:window&&window.external&&window.external.msIsSiteMode?!!window.external.msIsSiteMode():window&&window.matchMedia?window.matchMedia("(display-mode: standalone)").matches:void 0}}},RkvH:function(t,e,a){"use strict";e.a=function(t){var e={vindex:new Float32Array(2*u*1),shape:new Float32Array(4*t.numBlades),offset:new Float32Array(4*t.numBlades),index:new Uint16Array(c)};(function(t,e,a,r){var n=void 0;for(n=0;n<s;++n)t[r++]=e+0,t[r++]=e+1,t[r++]=e+2,t[r++]=e+2,t[r++]=e+1,t[r++]=e+3,e+=2;for(n=0;n<s;++n)t[r++]=a+2,t[r++]=a+1,t[r++]=a+0,t[r++]=a+3,t[r++]=a+1,t[r++]=a+2,a+=2})(e.index,0,u,0),function(t,e,a){for(var n=0;n<e;++n)t[4*n+0]=Object(r.c)()*a,t[4*n+1]=Object(r.c)()*a,t[4*n+2]=0,t[4*n+3]=2*Math.PI*Math.random()}(e.offset,t.numBlades,t.radius),function(t,e,a){for(var r=0,n=0;n<e;++n)r=Math.abs(Object(o.a)(.03*a[4*n+0],.03*a[4*n+1])),r*=r*r,r*=5,t[4*n+0]=l+Math.random()*l*.5,t[4*n+1]=f+Math.pow(Math.random(),4)*(h-f)+r,t[4*n+2]=0+.3*Math.random(),t[4*n+3]=.05+.3*Math.random()}(e.shape,t.numBlades,e.offset),function(t){for(var e=0;e<t.length;++e)t[e]=e}(e.vindex);var a=new i.g;a.boundingSphere=new i.q(new i.u(0,0,0),1e4*Math.sqrt(t.radius*t.radius*2)),a.addAttribute("vindex",new i.c(e.vindex,1)),a.addAttribute("shape",new i.f(e.shape,4)),a.addAttribute("offset",new i.f(e.offset,4)),a.setIndex(new i.c(e.index,1));var d=t.texture;d.wrapS=d.wrapT=i.o;var v=t.heightMap;v.wrapS=v.wrapT=i.o;var p=t.heightMapScale,y=n.c.clone(t.lightDir);y.z*=.5,n.c.normalize(y,y);var g=t.vertScript.replace("%%BLADE_HEIGHT_TALL%%",(1.5*h).toFixed(1)).replace("%%BLADE_SEGS%%",s.toFixed(1)).replace("%%PATCH_SIZE%%",(2*t.radius).toFixed(1)).replace("%%TRANSITION_LOW%%",t.transitionLow.toString()).replace("%%TRANSITION_HIGH%%",t.transitionHigh.toString()),x=new i.n({uniforms:{lightDir:{type:"3f",value:n.c.toArray(y)},time:{type:"f",value:0},map:{type:"t",value:d},heightMap:{type:"t",value:v},heightMapScale:{type:"3f",value:[p.x,p.y,p.z]},camDir:{type:"3f",value:[1,0,0]},drawPos:{type:"2f",value:[100,0]},fogColor:{type:"3f",value:n.a.toArray(t.fogColor)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:t.fogFar},grassColor:{type:"3f",value:n.a.toArray(t.grassColor)},grassFogFar:{type:"f",value:t.grassFogFar},windIntensity:{type:"f",value:t.windIntensity}},vertexShader:g,fragmentShader:t.fragScript,transparent:!0}),m=new i.i(a,x);return m.frustumCulled=!1,m},e.b=function(t,e,a,r,n){var o=t.material;o.uniforms.time.value=e;var i=o.uniforms.camDir.value;i[0]=r.x,i[1]=r.y,i[2]=r.z,(i=o.uniforms.drawPos.value)[0]=n.x,i[1]=n.y};var r=a("gquk"),n=a("tQ6r"),o=a("9rEf"),i=(a("9yPn"),a("Ml+6")),s=4,u=2*(s+1),c=12*s,l=.15,f=2.25,h=3},Rrf4:function(t,e,a){"use strict";e.a=function(t,e){var a=V,T=0,N={pos:n.c.create(0,0,c),vel:n.c.create(0,0,0),dir:n.c.create(1,0,0),yaw:0,yawVel:0,pitch:0,pitchVel:0,roll:0,rollVel:0,floatHeight:0};o.b(13,function(){console.log("Hit"),R(),a===P?(u.a(),Object(i.a)("Press ENTER to change camera")):a===L?Object(i.a)("ARROWS drive, W/S move up/down."):a===V&&(u.d(),Object(i.a)("ARROWS move, W/S move up/down, Q/A look up/down"))});var q=n.c.create(),B=n.c.create(),D=n.c.create(),Q=n.c.create(),W=n.c.create();function R(){(a=(a+1)%E)===V&&(N.roll=0,N.rollVel=0,N.pitchVel=0,N.yawVel=0)}function _(t,e){e.x=Math.cos(t)*p+Math.sin(t)*p*2,e.y=Math.sin(t)*p+Math.cos(t)*p*2}return{update:function(i){T+=i,a===P?function(a,r){var o=r/1e3;n.c.copy(N.pos,q);var i=N.yaw,u=N.pitch;_(.01*a,N.pos),_(.01*(a+1),D),_(.01*(a+2),Q),_(.01*(a+3),W);var c=.3*a;N.pos.z=d+Math.cos(c)*d,N.pitch=v-.25*Math.sin(c+.5*Math.PI),N.yaw=Math.sin(.04*a)*Math.PI*2+.5*Math.PI;var f=Math.max(s.b(t,N.pos.x,N.pos.y,!0),e),p=Math.max(s.b(t,D.x,D.y,!0),e),y=Math.max(s.b(t,Q.x,Q.y,!0),e),g=Math.max(s.b(t,W.x,W.y,!0),e),x=Math.max(Math.max(Math.max(f,p),y),g),m=N.floatHeight<x?x-N.floatHeight:f-N.floatHeight;m<0&&(m*=.25);N.floatHeight+=m*h*o,N.floatHeight<f&&(N.floatHeight=f);N.pos.z+=N.floatHeight+l,B.x=N.pos.x-q.x,B.y=N.pos.y-q.y,B.z=N.pos.z-q.z,N.vel.x=B.x/o,N.vel.y=B.y/o,N.vel.z=B.z/o;var w=N.yaw-i;N.yawVel=w/o;var M=N.pitch-u;N.pitchVel=M/o}(T/1e3,i):a===L?function(a,o){var i=o/1e3,u=0;a.left>0?u=-S:a.right>0&&(u=S);var c=-N.roll*A,h=-Object(r.f)(N.rollVel)*F*Math.abs(N.rollVel);u=u+c+h,N.rollVel+=u*i,N.roll+=N.rollVel*i;var d=-N.roll*w,v=-Object(r.f)(N.yawVel)*Math.abs(Math.pow(N.yawVel,3))*M;N.yawVel+=(d+v)*i,N.yaw+=N.yawVel*i;var p=0;a.forward>0?p=-b:a.back>0&&(p=.5*b);var k=-N.pitch*z,j=-Object(r.f)(N.pitchVel)*C*Math.abs(N.pitchVel);p=p+k+j,N.pitchVel+=p*i,N.pitch+=N.pitchVel*i,n.c.set(q,0,0,0),q.x=-N.pitch*y*Math.cos(N.yaw),q.y=-N.pitch*y*Math.sin(N.yaw);var I=n.b.length(N.vel);B.x=-N.vel.x,B.y=-N.vel.y,n.b.setLength(B,I*g,B),a.up>0&&N.pos.z<f-2?q.z=x:a.down>0&&N.pos.z>l&&(q.z=-x);B.z=-N.vel.z*m,N.vel.x+=(q.x+B.x)*i,N.vel.y+=(q.y+B.y)*i,N.vel.z+=(q.z+B.z)*i,N.pos.x+=N.vel.x*i,N.pos.y+=N.vel.y*i,N.pos.z+=N.vel.z*i;var O=Math.max(s.b(t,N.pos.x,N.pos.y,!0),e);N.pos.z<O+l?N.pos.z=O+l:N.pos.z>f&&(N.pos.z=f)}(o.c,i):a===V&&function(a,o){var i=o/1e3;N.yawVel=0,a.left?N.yawVel=I:a.right&&(N.yawVel=-I);N.yaw+=N.yawVel*i,N.pitchVel=0,a.pitchup?N.pitchVel=O:a.pitchdown&&(N.pitchVel=-O);N.pitch+=N.pitchVel*i,N.pitch=Object(r.a)(N.pitch,-H,H),n.c.set(N.vel,0,0,0),a.forward?(N.vel.x=k*Math.cos(N.yaw),N.vel.y=k*Math.sin(N.yaw)):a.back&&(N.vel.x=-k*Math.cos(N.yaw),N.vel.y=-k*Math.sin(N.yaw));N.pos.x+=N.vel.x*i,N.pos.y+=N.vel.y*i,a.up?N.vel.z=j:a.down&&(N.vel.z=-j);N.pos.z+=N.vel.z*i;var u=Math.max(s.b(t,N.pos.x,N.pos.y,!0),e);N.pos.z<u+l?N.pos.z=u+l:N.pos.z>f&&(N.pos.z=f)}(o.c,i);var u=N.dir;u.z=Math.sin(N.pitch);var c=1-Math.abs(u.z);u.x=Math.cos(N.yaw)*c,u.y=Math.sin(N.yaw)*c},state:N,getMode:function(){return a},nextMode:R}};var r=a("gquk"),n=a("tQ6r"),o=a("C9fx"),i=a("XFC7"),s=a("pjQ5"),u=a("wiis"),c=0,l=2.5,f=275,h=.75,d=16,v=-.325,p=1500,y=90,g=.1,x=60,m=5,w=4,M=2,b=4,z=16,C=8,S=2,A=10,F=8,k=40,j=10,I=.5,O=.5,H=Math.PI/4,P=0,L=1,V=2,E=3},XFC7:function(t,e,a){"use strict";e.a=function(t){var e=Object(r.a)("notification_text");if(e.textContent=t,o)return;var a=Object(r.a)("notification");a.style.display="block",a.style.opacity="1.0",o=!0,setTimeout(function(){n.a(a,1e3,function(){a.style.display="none",e.textContent="",o=!1})},4e3)};var r=a("1VQc"),n=a("0QIF"),o=!1},eo3d:function(t,e,a){"use strict";e.a=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,e=new Array(t),a=0,r=0,n=60,o=0;o<t;++o)e[o]=16.66666667,a+=16.66666667;return{update:function(o){return a-=e[r],a+=o,e[r]=o,r=(r+1)%t,n=1e3*t/a},fps:function(){return n.toFixed(1)}}}},gquk:function(t,e,a){"use strict";e.f=n,e.e=function(t,e){var a=Math.pow(10,e);return Math.round((t+1e-9)*a)/a},e.a=function(t,e,a){return Math.min(Math.max(t,e),a)},e.d=o,e.c=function(){return 2*Math.random()-1},e.b=function(t,e){var a=o(e,r)-o(t,r);return Math.abs(a)<Math.PI?a:a-r*n(a)};var r=2*Math.PI;function n(t){return t>0?1:t<0?-1:0}function o(t,e){return(t%e+e)%e}},jieY:function(t,e,a){var r=a("kxFB");(t.exports=a("FZ+f")(!1)).push([t.i,"/*! Generated by Font Squirrel (https://www.fontsquirrel.com) on April 23, 2018 */@font-face{font-family:Narkism;src:url("+r(a("52uK"))+");src:url("+r(a("52uK"))+'?#iefix) format("embedded-opentype"),url('+r(a("f76M"))+') format("woff2"),url('+r(a("MoYa"))+') format("woff"),url('+r(a("Qk6p"))+') format("truetype"),url('+r(a("vFEL"))+'#narkisimregular) format("svg");font-weight:400;font-style:normal}#app-background{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}#app-background canvas{width:100%;height:100%}',""])},oAWA:function(t,e,a){"use strict";e.a=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32;return t.wrapS=t.wrapT=r.o,new r.i(new r.r(e,n,a,0,2*Math.PI,0,Math.PI/2).rotateX(Math.PI/2).rotateZ(Math.PI),new r.j({color:16777215,side:r.b,map:t,fog:!1}))};var r=a("Ml+6")},pC51:function(t,e,a){"use strict";a.d(e,"a",function(){return r}),a.d(e,"b",function(){return n});var r=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"container",attrs:{id:"app-background"}},[e("canvas",{attrs:{id:"app-canvas"}})])},n=[];r._withStripped=!0},pjQ5:function(t,e,a){"use strict";e.a=function(t){var e={cellSize:t.cellSize&&t.cellSize>0?t.cellSize:1,minHeight:"number"==typeof t.minHeight?t.minHeight:0,maxHeight:"number"==typeof t.maxHeight?t.maxHeight:1,xCount:0,yCount:0,xSize:0,ySize:0,heights:new Float32Array(0),faceNormals:new Float32Array(0),vtxNormals:new Float32Array(0)};t.image?function(t,e){var a=void 0,r=void 0,s=void 0,u=t.width,c=t.height,l=e.maxHeight-e.minHeight;e.xCount=u-1,e.yCount=c-1,e.xSize=e.xCount*e.cellSize,e.ySize=e.yCount*e.cellSize;var f=document.createElement("canvas");f.width=u,f.height=c;var h=f.getContext("2d");h.drawImage(t,0,0,u,c);var d=h.getImageData(0,0,u,c).data,v=new Float32Array(u*c);for(r=0;r<c;++r)for(a=0;a<u;++a)s=d[4*(a+(c-r-1)*u)]/255,v[a+r*u]=e.minHeight+s*l;d=h=f=null,e.heights=v,e.faceNormals=new Float32Array(6*e.xCount*e.yCount),e.vtxNormals=new Float32Array(3*(e.xCount+1)*(e.yCount+1)),o(e),function(t){for(var e=t.vtxNormals,a=t.xCount+1,r=t.yCount+1,o=n.c.create(),s=0,u=Date.now(),c=0;c<r;++c)for(var l=0;l<a;++l)i(t,l,c,o),s=3*(c*a+l),e[s++]=o.x,e[s++]=o.y,e[s++]=o.z;var f=Date.now()-u;console.log("computed "+a*r+" vertex normals in "+f+"ms")}(e)}(t.image,e):(e.xCount=t.xCount&&t.xCount>0?Math.floor(t.xCount):1,e.yCount=t.yCount&&t.yCount>0?Math.floor(t.yCount):1,e.xSize=e.xCount*e.cellSize,e.ySize=t.yCount*e.cellSize,e.heights=t.heights||new Float32Array((e.xCount+1)*(e.yCount+1)),e.faceNormals=new Float32Array(6*e.xCount*e.yCount),e.vtxNormals=new Float32Array(3*(e.xCount+1)*(e.yCount+1)),o(e));return e},e.c=s,e.b=function(t,e,a){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return s(t,e,a,r,u),u.z};var r=a("gquk"),n=a("tQ6r");function o(t){for(var e=t.cellSize,a=t.xCount,r=t.yCount,o=t.xCount+1,i=t.heights,s=t.faceNormals,u=n.c.create(),c=n.c.create(),l=n.c.create(),f=0,h=Date.now(),d=0;d<r;++d)for(var v=0;v<a;++v){f=6*(v+d*a);var p=v+d*o,y=i[p];u.x=e,u.y=e,u.z=i[p+o+1]-y,c.x=0,c.y=e,c.z=i[p+o]-y,n.c.cross(u,c,l),n.c.normalize(l,l),s[f+0]=l.x,s[f+1]=l.y,s[f+2]=l.z,u.x=e,u.y=0,u.z=i[p+1]-y,c.x=e,c.y=e,c.z=i[p+o+1]-y,n.c.cross(u,c,l),n.c.normalize(l,l),s[f+3]=l.x,s[f+4]=l.y,s[f+5]=l.z}var g=Date.now()-h;console.log("computed "+f+" heightfield face normals in "+g+"ms")}function i(t,e,a,o){var i=t.faceNormals,s=e%t.xCount,u=a%t.yCount,c=3*(u*t.xCount+s)*2;o.x=i[c+0],o.y=i[c+1],o.z=i[c+2],c+=3,o.x+=i[c+0],o.y+=i[c+1],o.z+=i[c+2],s=Object(r.d)(s-1,t.xCount),c=3*(u*t.xCount+s)*2+3,o.x+=i[c+0],o.y+=i[c+1],o.z+=i[c+2],c=3*((u=Object(r.d)(u-1,t.yCount))*t.xCount+s)*2,o.x+=i[c+0],o.y+=i[c+1],o.z+=i[c+2],c+=3,o.x+=i[c+0],o.y+=i[c+1],o.z+=i[c+2],s=(s+1)%t.xCount,c=3*(u*t.xCount+s)*2,o.x+=i[c+0],o.y+=i[c+1],o.z+=i[c+2],n.c.normalize(o,o)}function s(t,e,a,n,o){var i=-t.xSize/2,s=-t.ySize/2;if(e<i||e>=-i||a<s||a>=-s){if(!n)return o.i=-1,o.z=t.minHeight,o.n.x=o.n.y=o.n.z=0,void(o.t=0);e=Object(r.d)(e-i,t.xSize)+i,a=Object(r.d)(a-s,t.ySize)+s}var u=t.cellSize,c=t.faceNormals,l=o.n,f=Math.floor((e-i)/u),h=Math.floor((a-s)/u),d=f+h*(t.xCount+1),v=(e-i)%u,p=(a-s)%u,y=f+h*t.xCount;p>0&&v/p<1?(o.t=0,l.x=c[6*y+0],l.y=c[6*y+1],l.z=c[6*y+2]):(o.t=1,l.x=c[6*y+3],l.y=c[6*y+4],l.z=c[6*y+5]),o.i=y,o.z=function(t,e,a,r){return e-(t.x*a+t.y*r)/t.z}(l,t.heights[d],v,p)}var u={i:0,t:0,z:0,n:n.c.create()}},tQ6r:function(t,e,a){"use strict";a.d(e,"b",function(){return r}),a.d(e,"c",function(){return n}),a.d(e,"a",function(){return o});var r={create:function(t,e){return{x:"number"==typeof t?t:0,y:"number"==typeof e?e:0}},clone:function(t){return r.create(t.x,t.y)},set:function(t,e,a){t.x=e,t.y=a},copy:function(t,e){e.x=t.x,e.y=t.y},length:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},setLength:function(t,e,a){var n=r.length(t);n>0?(n=e/n,a.x=t.x*n,a.y=t.y*n):(a.x=e,a.y=0)},dist:function(t,e){var a=e.x-t.x,r=e.y-t.y;return Math.sqrt(a*a+r*r)},normalize:function(t,e){r.setLength(t,1,e)},dot:function(t,e){return t.x*e.x+t.y*e.y},det:function(t,e){return t.x*e.y-t.y*e.x},rotate:function(t,e,a){var r=Math.cos(e),n=Math.sin(e),o=t.x,i=t.y;a.x=o*r-i*n,a.y=o*n+i*r},rotateCS:function(t,e,a,r){var n=t.x,o=t.y;r.x=n*e-o*a,r.y=n*a+o*e},reflect:function(t,e,a){var n=r.dot(e,t);a.x=t.x-2*n*e.x,a.y=t.y-2*n*e.y},toArray:function(t){return[t.x,t.y]}},n={create:function(t,e,a){return{x:"number"==typeof t?t:0,y:"number"==typeof e?e:0,z:"number"==typeof a?a:0}},clone:function(t){return n.create(t.x,t.y,t.z)},set:function(t,e,a,r){t.x=e,t.y=a,t.z=r},copy:function(t,e){e.x=t.x,e.y=t.y,e.z=t.z},length:function(t){return Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z)},setLength:function(t,e,a){var r=n.length(t);r>0?(r=e/r,a.x=t.x*r,a.y=t.y*r,a.z=t.z*r):(a.x=e,a.y=0,a.z=0)},dist:function(t,e){var a=e.x-t.x,r=e.y-t.y,n=e.z-t.z;return Math.sqrt(a*a+r*r+n*n)},normalize:function(t,e){n.setLength(t,1,e)},dot:function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},cross:function(t,e,a){var r=t.x,n=t.y,o=t.z,i=e.x,s=e.y,u=e.z;a.x=n*u-o*s,a.y=o*i-r*u,a.z=r*s-n*i},toArray:function(t){return[t.x,t.y,t.z]}},o={create:function(t,e,a){return{r:"number"==typeof t?t:0,g:"number"==typeof e?e:0,b:"number"==typeof a?a:0}},toArray:function(t){return[t.r,t.g,t.b]},to24bit:function(t){return 255*t.r<<16^255*t.g<<8^255*t.b<<0}}},wiis:function(t,e,a){"use strict";e.c=function(t){Object(r.a)("logger").textContent=t},e.e=function(){var t=Object(r.a)("logger");(n=!n)?t.style.display="inline-block":t.style.display="none"},e.a=function(){Object(r.a)("logger").style.display="none",n=!1},e.d=function(){Object(r.a)("logger").style.display="inline-block",n=!0},e.b=function(){return n};var r=a("1VQc"),n=!1}});
//# sourceMappingURL=6.893b42a475bbf80e33c9.js.map